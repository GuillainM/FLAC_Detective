# FLAC Detective Report Format

This document describes the format of reports generated by FLAC Detective.

## Report Header

All reports include a header with the tool version and generation timestamp:

```
============================================================================================================================================
 FLAC DETECTIVE REPORT v0.8.0 - 2025-12-19 15:16
============================================================================================================================================
```

**Components:**
- **Version**: `v0.8.0` - The version of FLAC Detective that generated the report
- **Date**: `2025-12-19` - Date of analysis (YYYY-MM-DD)
- **Time**: `15:16` - Time of analysis (HH:MM)

**Why Version Matters:**
- Different versions may have different detection algorithms
- Version is critical for debugging issues
- Enables comparison of results across versions
- Required for reproducibility

## Report Sections

### 1. Summary Statistics

```
 Files: 99 | Quality: 84.8% | Authentic: 84 | Fake/Suspicious: 15
 Issues: DC: 23, Silence: 40, Non-FLAC: 14
```

**Metrics:**
- **Files**: Total FLAC files analyzed
- **Quality**: Percentage of authentic files
- **Authentic**: Count of verified authentic lossless files
- **Fake/Suspicious**: Count of detected transcodes or suspicious files
- **Issues**: Breakdown of detected issues (DC offset, silence, non-FLAC)

### 2. Suspicious Files List

```
 Icon | Score   | Verdict         | Cutoff   | Bitrate  | File
 ------------------------------------------------------------------------------------------------------------------------------------------
 [XX] | 100/100 | FAKE_CERTAIN    | 20.5k    | 320k     | \Album\02 - Track.flac
 [⚠️ ] | 75/100  | SUSPICIOUS      | 21.0k    | N/A      | \Album\03 - Track.flac
```

**Columns:**
- **Icon**: Visual indicator of severity
  - `[XX]` - Fake certain (score ≥ 86)
  - `[⚠️ ]` - Suspicious (score 61-85)
  - `[!]` - Warning (score 31-60)
  - `[✓]` - Authentic (score ≤ 30)
- **Score**: Detection score out of 100
- **Verdict**: Classification (AUTHENTIC, WARNING, SUSPICIOUS, FAKE_CERTAIN, NON_FLAC)
- **Cutoff**: Spectral cutoff frequency in kHz
- **Bitrate**: Estimated source bitrate (if applicable)
- **File**: Relative path from scan directory

### 3. Corrupted Files (if any)

```
--------------------------------------------------------------------------------------------------------------------------------------------
 No corrupted files found.
--------------------------------------------------------------------------------------------------------------------------------------------
```

Or, if corrupted files were detected:

```
 CORRUPTED FILES (2)
 File                                                                        | Status
 ------------------------------------------------------------------------------------------------------------------------------------------
 \Iceland (1979)\02 - Iceland (part 2).flac                                 | REPAIRED (backup: .corrupted.bak)
 \Iceland (1979)\08 - Greenland.flac                                        | REPAIRED (backup: .corrupted.bak)
```

**Notes:**
- Corrupted files are automatically repaired during scan (v0.8.0+)
- Original corrupted files backed up with `.corrupted.bak` extension
- Metadata (tags + album art) fully preserved during repair

### 4. Upsampled Files (if any)

```
--------------------------------------------------------------------------------------------------------------------------------------------
 No upsampled files found.
--------------------------------------------------------------------------------------------------------------------------------------------
```

Or lists files with suspicious upsampling patterns.

### 5. Action Recommendation

```
 Action: Delete Fakes
```

Suggested action based on findings:
- **Delete Fakes**: Remove detected transcodes
- **Manual Review**: Check suspicious files manually
- **None Required**: All files authentic

## Report Filenames

Reports use timestamped filenames:

```
flac_report_YYYYMMDD_HHMMSS.txt
```

**Example:**
```
flac_report_20251219_151630.txt
```

## Version History Impact

### v0.8.0 (2025-12-19)
- Added version number to report header
- Added corrupted files section
- Added repair status indicators

### v0.7.x
- Header without version number
- Basic statistics and file lists

## Reading Reports

### Quick Assessment
1. Check **Quality %** in summary
2. Review **Fake/Suspicious** count
3. Scan suspicious files list for your priorities

### Detailed Analysis
1. Note the **version** used
2. Review individual **scores** and **verdicts**
3. Check **cutoff frequencies** (lower = more suspicious)
4. Examine **bitrate** indicators for transcodes
5. Review **corrupted** and **upsampled** sections

### Taking Action
1. Backup your collection before deleting files
2. Manually verify high-score suspicious files
3. Delete confirmed fakes (FAKE_CERTAIN with score ≥ 90)
4. Research borderline cases (scores 60-85)
5. Keep authentic files (score ≤ 30)

## JSON Format

For programmatic processing, use `--format json`:

```json
{
  "version": "0.8.0",
  "timestamp": "2025-12-19T15:16:30",
  "summary": {
    "total_files": 99,
    "authentic": 84,
    "suspicious": 15
  },
  "files": [
    {
      "path": "Album/02 - Track.flac",
      "verdict": "FAKE_CERTAIN",
      "score": 100,
      "cutoff_freq": 20500,
      "bitrate": 320000
    }
  ]
}
```

## Best Practices

1. **Keep Reports**: Save reports for historical comparison
2. **Note Versions**: Different versions may classify files differently
3. **Verify Manually**: Always verify before deleting files
4. **Check Repairs**: Validate repaired files work correctly
5. **Compare Results**: Re-scan periodically to validate consistency
